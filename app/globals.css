@import "tailwindcss";

:root {
  /* Solarized Light */
  --background: #fdf6e3; /* base3 */
  --foreground: #657b83; /* base00 */
  --surface: #eee8d5;    /* base2 */
  --surface-muted: #e6dfc9;
  --accent-primary: #268bd2;   /* blue */
  --accent-reading: #268bd2;   /* blue */
  --accent-completed: #859900; /* green */
  --accent-planned: #93a1a1;   /* base1 */
  --accent-danger: #dc322f;    /* red */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Solarized Dark */
    --background: #002b36;    /* base03 */
    --foreground: #93a1a1;    /* base1 */
    --surface: #073642;       /* base02 */
    --surface-muted: #042027; /* deeper */
    --accent-primary: #268bd2;   /* blue */
    --accent-reading: #268bd2;   /* blue */
    --accent-completed: #859900; /* green */
    --accent-planned: #586e75;   /* base01 */
    --accent-danger: #dc322f;    /* red */
  }
}

body {
  color: var(--foreground);
  background:
    radial-gradient(900px 600px at 0% -10%, color-mix(in oklab, var(--accent-primary) 10%, transparent), transparent),
    var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

/* Design tokens and small utility layer */
@utility card {
  @apply rounded-xl border border-slate-200/60 dark:border-slate-800/60 bg-[var(--surface)] dark:bg-slate-900/40 p-4 shadow-sm;
}
@utility btn {
  @apply inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  --tw-ring-color: var(--accent-primary);
}
@utility btn-primary {
  @apply btn text-white hover:brightness-110 active:brightness-95;
  background-color: var(--accent-primary);
}
@utility btn-success {
  @apply btn text-white hover:brightness-110 active:brightness-95;
  background-color: var(--accent-completed);
}
@utility btn-muted {
  @apply btn hover:brightness-105;
  color: var(--foreground);
  opacity: 0.9;
  background-color: color-mix(in oklab, var(--accent-planned) 18%, transparent);
  border: 1px solid color-mix(in oklab, var(--accent-planned) 28%, transparent);
}
@utility btn-danger {
  @apply btn text-white hover:brightness-110 active:brightness-95;
  background-color: var(--accent-danger);
}
@utility badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold border border-slate-300/60 dark:border-slate-700/60 bg-slate-200/60 dark:bg-slate-800/60;
}

/* Book card styling with a playful "spine" accent */
@utility book-card {
  @apply card flex items-center justify-between rounded-2xl p-4 transition-all overflow-hidden;
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
@utility book--planned {
  --book-accent: var(--accent-planned);
  opacity: 0.85;
}
@utility book--reading {
  --book-accent: var(--accent-reading);
}
@utility book--completed {
  --book-accent: var(--accent-completed);
}

.book-card {
  background:
    linear-gradient(90deg, color-mix(in oklab, var(--book-accent) 14%, transparent) 0%, transparent 22%),
    var(--surface);
  border-color: color-mix(in oklab, var(--book-accent) 28%, rgb(51 65 85 / 0.35));
  transition: background 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
}
.dark .book-card {
  background:
    linear-gradient(90deg, color-mix(in oklab, var(--book-accent) 18%, transparent) 0%, transparent 24%),
    color-mix(in oklab, var(--surface) 92%, black);
  border-color: color-mix(in oklab, var(--book-accent) 30%, rgb(30 41 59 / 0.45));
}
.book-card::before {
  content: "";
  position: absolute;
  inset: 0 auto 0 0;
  width: 6px;
  background: linear-gradient(180deg, color-mix(in oklab, var(--book-accent) 65%, white) 0%, var(--book-accent) 100%);
  opacity: 0.9;
  transition: background 0.3s ease, width 0.3s ease;
}
.book-card:hover { 
  filter: saturate(1.15);
}
.book-card:hover::before {
  width: 8px;
}

/* Special states */
.book--reading {
  box-shadow: 0 0 20px color-mix(in oklab, var(--accent-reading) 15%, transparent);
}
.book--completed {
  position: relative;
}

/* Status badges tied to the palette */
@utility badge-reading { @apply badge; background-color: color-mix(in oklab, var(--accent-reading) 25%, transparent); color: white; }
@utility badge-completed { @apply badge; background-color: color-mix(in oklab, var(--accent-completed) 30%, transparent); color: white; }
@utility badge-planned { @apply badge; background-color: color-mix(in oklab, var(--accent-planned) 25%, transparent); color: white; }
